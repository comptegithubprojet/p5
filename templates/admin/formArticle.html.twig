{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

{{ form_errors(form) }}


    <div class="form-group">
    	<div class="col-xs-offset-1">
    		{{ form_label(form.auteur, "Auteur de l'article", {'label_attr': {'class': 'control-label'}}) }}
    	</div>  
        <div class="col-xs-offset-1 col-xs-3">
            {{ form_widget(form.auteur, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="col-xs-offset-1">
            {{ form_errors(form.auteur, { 'attr': {'class': 'form-control '} }) }}
        </div>
    </div>

    <div class="form-group">
    	<div class="col-xs-offset-1">
    		{{ form_label(form.titre, "Titre de l'article", {'label_attr': {'class': 'control-label'}}) }}
    	</div>  
        <div class="col-xs-offset-1 col-xs-10">
            {{ form_widget(form.titre, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="col-xs-offset-1">
            {{ form_errors(form.titre, { 'attr': {'class': 'form-control '} }) }}
        </div>
    </div>

    <div class="form-group">
    	<div class="col-xs-offset-1">
    		{{ form_label(form.resume, "Un petit mot sur l'article", {'label_attr': {'class': 'control-label'}}) }}
    	</div>  
        <div class="col-xs-offset-1 col-xs-10">
            {{ form_widget(form.resume, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="col-xs-offset-1">
            {{ form_errors(form.resume, { 'attr': {'class': 'form-control '} }) }}
        </div>
    </div>

    <div class="form-group">
    	<div class="col-xs-offset-1">
    		{{ form_label(form.contenu, "Contenu", {'label_attr': {'class': 'control-label'}}) }}
    	</div>  
        <div class="col-xs-offset-1 col-xs-10">
            {{ form_widget(form.contenu, { 'attr': {'class': 'form-control'} }) }}
        </div>
        <div class="col-xs-offset-1">
            {{ form_errors(form.contenu, { 'attr': {'class': 'form-control '} }) }}
        </div>
    </div>

    <div class="form-group">
    	<div class="col-xs-offset-1">
    		{{ form_label(form.image, "Choisir une image", {'label_attr': {'for':'article_image', 'class': 'btn btn-primary'}}) }}
    	</div>  
        <div class="col-xs-offset-1 col-xs-10">
            {{ form_widget(form.image, { 'attr': {'class': 'input-file'} }) }}
        </div>
        <div class="col-xs-offset-1">
            {{ form_errors(form.image, { 'attr': {'class': 'form-control '} }) }}
        </div>
    </div>

    <div class="col-xs-offset-1">
        {% if imagePath != null %}        
                <img id="image-preview" class="img-responsive image-preview" src="{{ asset('uploads/images/') }}{{ imagePath }}">
        {% endif %}

        {% if imagePath == null %}
                <img id="image-preview" class="img-responsive image-preview">        
        {% endif %}
    </div>

    <script type="text/javascript">
        document.getElementById("article_image").onchange = function () 
        {
            var reader = new FileReader();

            reader.onload = function (e) {
                // get loaded data and render thumbnail.
                document.getElementById("image-preview").src = e.target.result;
            };

            // read the image file as a data URL.
            reader.readAsDataURL(this.files[0]);
        };
    </script>

{{ form_widget(form.save, {'attr': {'class': 'btn btn-primary btn-lg col-xs-offset-8 col-xs-3'}, 'label': 'Publier'}) }}

{{ form_rest(form) }}

{{ form_end(form) }}
